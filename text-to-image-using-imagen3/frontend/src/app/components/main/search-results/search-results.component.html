<app-header (emitSearch)="this.searchTerm({ term: $event })"></app-header>

<mat-grid-list cols="4" rowHeight="100px">
  <mat-grid-tile class="header-image-generation" [colspan]="4" [rowspan]="1" [style.background]="'#DDE6F6'">
    <h1 class="mat-h1 custom-heading">Image Generation</h1>
  </mat-grid-tile>
  <mat-grid-tile class="image-grid" [colspan]="3" [rowspan]="10" [style.background]="'white'" rowHeight= "80px">
    <div class="image-generation-container">
      <div class="image-preview">
        <div class="main-image">
          <div class="main-image-placeholder">
            <img src="data:image/png;base64,{{ selectedResult?.image?.encodedImage || '' }}"
              *ngIf="!showDefaultDocuments && documents.length > 0" />
            <img src="{{ pagedDocuments[0]?.image?.encodedImage }}" *ngIf="showDefaultDocuments" />
          </div>
        </div>
        <div class="thumbnail-container">
          <div class="thumbnail" *ngFor="let result of pagedDocuments" (click)="changeImageSelection(result)">
            <div class="thumbnail-placeholder">
              <img src="data:image/png;base64,{{ result.image.encodedImage }}"
                *ngIf="!showDefaultDocuments && documents.length > 0" />
              <img src="{{ result.image.encodedImage }}" *ngIf="showDefaultDocuments" />
            </div>
          </div>
        </div>
        <div class="chat-footer-outer">
          <app-chat-input (emitSearch)="this.goToResults($event)"></app-chat-input>
        </div>
      </div>
    </div>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="1" [rowspan]="10" [style.background]="'white'">
    <div class="configuration">
      <h2>Configuration</h2>
      <mat-form-field>
        <mat-label>AI Model</mat-label>
        <mat-select [(value)]="selectedModel">
          <mat-option *ngFor="let model of imagen3ModelsList" [value]="model.value" (click)="changeImagen3Model(model)">
            {{ model.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h3>Aspect Ratio</h3>
      <div class="aspect-ratio">
        <button *ngFor="let ratio of aspectRatioList" [value]="ratio.value" mat-button class="aspect-button"
          (click)="changeAspectRatio(ratio)">
          {{ ratio?.value }}
        </button>
      </div>

      <h3>Image Style</h3>
      <div class="image-style">
        <button mat-raised-button class="style-button">Modern</button>
        <button mat-raised-button class="style-button">Realistic</button>
        <button mat-raised-button class="style-button">Vintage</button>
        <button mat-raised-button class="style-button">Monochrome</button>
        <button mat-raised-button class="style-button">Fantasy</button>
      </div>

      <div class="number-results">
        <mat-label style="padding-right: 1rem">Number of Results</mat-label>
        <mat-slider min="1" max="10" step="1" value="2" discrete>
          <input matSliderThumb>
        </mat-slider>
      </div>
    </div>
  </mat-grid-tile>
</mat-grid-list>
